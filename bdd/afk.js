const a0_0x4863ba=a0_0x2983;(function(_0x191c64,_0x12db26){const _0x3535fe=a0_0x2983,_0x54e383=_0x191c64();while(!![]){try{const _0x590295=-parseInt(_0x3535fe(0x1b9))/0x1*(-parseInt(_0x3535fe(0x1aa))/0x2)+parseInt(_0x3535fe(0x1a7))/0x3+parseInt(_0x3535fe(0x1b4))/0x4*(parseInt(_0x3535fe(0x1bf))/0x5)+-parseInt(_0x3535fe(0x1bd))/0x6*(parseInt(_0x3535fe(0x1b0))/0x7)+parseInt(_0x3535fe(0x1b2))/0x8+parseInt(_0x3535fe(0x1b3))/0x9*(-parseInt(_0x3535fe(0x1ba))/0xa)+-parseInt(_0x3535fe(0x1b8))/0xb;if(_0x590295===_0x12db26)break;else _0x54e383['push'](_0x54e383['shift']());}catch(_0xebf303){_0x54e383['push'](_0x54e383['shift']());}}}(a0_0x3bb6,0xee6ff),require(a0_0x4863ba(0x1ad))[a0_0x4863ba(0x1a8)]());const {Pool}=require('pg'),s=require(a0_0x4863ba(0x1ac));var dbUrl=s[a0_0x4863ba(0x1a4)]?s['DATABASE_URL']:a0_0x4863ba(0x1a6);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig),creerTableAfk=async()=>{const _0x17d355=a0_0x4863ba;try{await pool[_0x17d355(0x1b5)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20afk\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20serial\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text\x20DEFAULT\x20\x27off\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lien\x20text\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20'),console[_0x17d355(0x1b6)](_0x17d355(0x1b7));}catch(_0x141e2d){console[_0x17d355(0x1ae)]('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27afk\x27:',_0x141e2d);}};creerTableAfk();async function addOrUpdateAfk(_0x74d111,_0x49f56f,_0x4ae003){const _0x12342d=a0_0x4863ba;try{await pool[_0x12342d(0x1b5)](_0x12342d(0x1a9),[_0x74d111,_0x49f56f,_0x4ae003]),console[_0x12342d(0x1b6)](_0x12342d(0x1af));}catch(_0x2f5836){console[_0x12342d(0x1ae)](_0x12342d(0x1be),_0x2f5836);}}function a0_0x3bb6(){const _0x3fc950=['rows','L\x27état\x20de\x20l\x27enregistrement\x20AFK\x20a\x20été\x20modifié\x20avec\x20succès.','DATABASE_URL','not\x20defined','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','1551084fBODjs','config','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20afk\x20(id,\x20message,\x20lien)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2,\x20$3)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20message\x20=\x20$2,\x20lien\x20=\x20$3;\x0a\x20\x20\x20\x20\x20\x20','2mcXfgg','exports','../set','dotenv','error','L\x27enregistrement\x20AFK\x20a\x20été\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès.','35fFnWlb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20etat\x20=\x20$1\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$2\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20*;\x0a\x20\x20\x20\x20\x20\x20','10653784OyrPfO','1985616MwbtPP','1519140zKMoAn','query','log','La\x20table\x20\x27afk\x27\x20a\x20été\x20créée\x20avec\x20succès.','28731879loTeUP','1172235hEvEut','20JRVEmJ','succes','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK\x20par\x20ID:','156558aWuXat','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27enregistrement\x20AFK:','15EIPCHT'];a0_0x3bb6=function(){return _0x3fc950;};return a0_0x3bb6();}async function getAfkById(_0x3b87c5){const _0x574340=a0_0x4863ba;try{const {rows:_0xf92782}=await pool['query']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$1;\x0a\x20\x20\x20\x20\x20\x20',[_0x3b87c5]);return _0xf92782[0x0];}catch(_0x53cbb7){return console[_0x574340(0x1ae)](_0x574340(0x1bc),_0x53cbb7),null;}}function a0_0x2983(_0x47d997,_0x225953){const _0x3bb66f=a0_0x3bb6();return a0_0x2983=function(_0x2983c6,_0x16097d){_0x2983c6=_0x2983c6-0x1a3;let _0x4eabbb=_0x3bb66f[_0x2983c6];return _0x4eabbb;},a0_0x2983(_0x47d997,_0x225953);};async function changeAfkState(_0x1ae2d6,_0x49ed75){const _0x508af7=a0_0x4863ba;try{const _0x459696=await pool[_0x508af7(0x1b5)](_0x508af7(0x1b1),[_0x49ed75,_0x1ae2d6]);return _0x459696[_0x508af7(0x1c0)]['length']===0x0?(console[_0x508af7(0x1b6)]('L\x27enregistrement\x20AFK\x20n\x27existe\x20pas.'),_0x508af7(0x1a5)):(console[_0x508af7(0x1b6)](_0x508af7(0x1a3)),_0x508af7(0x1bb));}catch(_0x2bb60c){console[_0x508af7(0x1ae)]('Une\x20erreur\x20est\x20survenue\x20lors\x20du\x20changement\x20de\x20l\x27état\x20de\x20l\x27enregistrement\x20AFK:',_0x2bb60c);}}module[a0_0x4863ba(0x1ab)]={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};